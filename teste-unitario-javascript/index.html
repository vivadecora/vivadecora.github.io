<!doctype html>
<html data-n-head-ssr lang="pt-BR" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22pt-BR%22%7D%7D">
  <head>
    <title>Viva Decora Engenharia | Desenvolvimento de software Backend Frontend DevOps</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="og:site_name" property="og:site_name" content="Viva Decora Engenharia"><meta data-n-head="ssr" data-hid="og:locale" property="og:locale" content="pt_BR"><link data-n-head="ssr" rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.vivadecora.com.br/pro/wp-includes/wlwmanifest.xml"><link data-n-head="ssr" rel="apple-touch-icon" sizes="57x57" href="https://cdn.vivadecora.com.br/static/img/favicons/apple-icon-57x57.png"><link data-n-head="ssr" rel="apple-touch-icon" sizes="60x60" href="https://cdn.vivadecora.com.br/static/img/favicons/apple-icon-60x60.png"><link data-n-head="ssr" rel="apple-touch-icon" sizes="72x72" href="https://cdn.vivadecora.com.br/static/img/favicons/apple-icon-72x72.png"><link data-n-head="ssr" rel="apple-touch-icon" sizes="76x76" href="https://cdn.vivadecora.com.br/static/img/favicons/apple-icon-76x76.png"><link data-n-head="ssr" rel="apple-touch-icon" sizes="114x114" href="https://cdn.vivadecora.com.br/static/img/favicons/apple-icon-114x114.png"><link data-n-head="ssr" rel="apple-touch-icon" sizes="120x120" href="https://cdn.vivadecora.com.br/static/img/favicons/apple-icon-120x120.png"><link data-n-head="ssr" rel="apple-touch-icon" sizes="144x144" href="https://cdn.vivadecora.com.br/static/img/favicons/apple-icon-144x144.png"><link data-n-head="ssr" rel="apple-touch-icon" sizes="152x152" href="https://cdn.vivadecora.com.br/static/img/favicons/apple-icon-152x152.png"><link data-n-head="ssr" rel="apple-touch-icon" sizes="180x180" href="https://cdn.vivadecora.com.br/static/img/favicons/apple-icon-180x180.png"><link data-n-head="ssr" rel="icon" sizes="16x16" href="https://cdn.vivadecora.com.br/static/img/favicons/favicon-16x16.png" type="image/png"><link data-n-head="ssr" rel="icon" sizes="96x96" href="https://cdn.vivadecora.com.br/static/img/favicons/favicon-96x96.png" type="image/png"><link data-n-head="ssr" rel="icon" sizes="32x32" href="https://cdn.vivadecora.com.br/static/img/favicons/favicon-32x32.png" type="image/png"><link data-n-head="ssr" rel="icon" sizes="192x192" href="https://cdn.vivadecora.com.br/static/img/favicons/android-icon-192x192.png" type="image/png"><script data-n-head="ssr">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({&#x27;gtm.start&#x27;:
            new Date().getTime(),event:&#x27;gtm.js&#x27;});var f=d.getElementsByTagName(s)[0],
          j=d.createElement(s),dl=l!=&#x27;dataLayer&#x27;?&#x27;&amp;l=&#x27;+l:&#x27;&#x27;;j.async=true;j.src=
          &#x27;https://www.googletagmanager.com/gtm.js?id=&#x27;+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,&#x27;script&#x27;,&#x27;dataLayer&#x27;,&#x27;GTM-KG4VTKG&#x27;)</script><link rel="preload" href="/_nuxt/ebd34f4.js" as="script"><link rel="preload" href="/_nuxt/6393243.js" as="script"><link rel="preload" href="/_nuxt/9a27922.js" as="script"><link rel="preload" href="/_nuxt/123647c.js" as="script"><link rel="preload" href="/_nuxt/8d3dc35.js" as="script"><style data-vue-ssr-id="517a8dd7:0 7e56e4e3:0 4e8213bc:0 56288ac3:0 6ae7dba9:0 735cbffc:0 aa6db0ee:0 0ae59e92:0 27a47c08:0 27f308d2:0 80a24e2c:0">code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}*{font-family:"Source Sans Pro",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;letter-spacing:-.23px;word-spacing:1px;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}*,:after,:before{box-sizing:border-box}*,:after,:before{margin:0}body img{max-width:100%;height:auto}a{color:#ff5656;transition:opacity .2s ease-in-out}a:hover{opacity:.7}.article__title{color:#444;font-size:32px;font-weight:700;letter-spacing:-.6px;line-height:1.25;margin:5px 0 16px;padding-bottom:13px;position:relative}.article__title:before{background-color:#ff5656;bottom:0;content:"";height:2px;margin:0 auto;position:absolute;left:0;width:30px}.article__title__anchor{text-decoration:none;color:inherit}.article__content{border-bottom:1px solid #d8d8d8;padding-bottom:20px;margin-bottom:20px}.article__content p{color:#444;line-height:24px;font-size:16px;font-weight:400;margin:.5rem 0}.article__content h2,.article__content h3,.article__content h4,.article__content h5,.article__content h6{margin:1rem 0;font-family:inherit;font-weight:500;line-height:1.1;color:#444}.article__content a{color:#ff5656}.article__content ul{margin:1rem 0}.article__content textarea{max-width:100%}.page{display:block;position:relative;font-family:sans-serif}.page__mobile-backdrop,.page__mobile-backdrop--is-open{position:fixed;background-color:rgba(0,0,0,.75);opacity:0;z-index:2;transition:all .25s ease-in-out}.page__mobile-backdrop--is-open{right:0;left:0;top:0;bottom:0;opacity:1}@media(min-width:768px){.page__mobile-backdrop,.page__mobile-backdrop--is-open{display:none}}.page__above-content{grid-area:above-content;display:block}@media(min-width:768px){.page{display:grid;grid-template-areas:"header header header header" "navigation navigation navigation navigation" ". above-content above-content ." ". content sidebar ." ". footer footer .";grid-template-columns:1fr minmax(550px,1000px) minmax(218px,280px) 1fr;grid-gap:10px;position:relative;font-family:sans-serif}}.page__header{grid-area:header;border-bottom:1px solid #eee;box-shadow:1px 1.732px 5px 0 hsla(0,0%,92.2%,.75);background-color:#fff;position:sticky;z-index:1;top:0}@media(min-width:768px){.page__header{box-shadow:none;border-bottom:0;position:relative}}.page__header__logo{order:2;margin-right:auto;margin-left:auto}@media(min-width:768px){.page__header__logo{margin-right:0;margin-left:0}}.page__header__content{display:flex;padding:20px;max-width:1280px;margin:0 auto;max-height:80px}.page__header__toggle-menu{order:1;margin-left:0;display:flex}@media(min-width:768px){.page__header__toggle-menu{display:none}}.viva-icon{width:1em;height:auto}.page__nav{grid-area:navigation;position:sticky;top:0;background-color:#fff;z-index:2;width:280px}@media(min-width:768px){.page__nav{width:100%;border-top:1px solid #eee;border-bottom:1px solid #eee;box-shadow:1px 1.732px 5px 0 hsla(0,0%,92.2%,.75)}}.page__nav__list,.page__nav__list--is-hidden-on-mobile{max-width:1280px;margin:0 auto;display:flex;flex-wrap:nowrap;list-style:none;color:#444;flex-direction:column;position:fixed;z-index:1;background-color:#fff;top:0;bottom:0;width:280px;padding:0;overflow:auto;transition:all .25s ease-in-out}@media(min-width:768px){.page__nav__list,.page__nav__list--is-hidden-on-mobile{grid-gap:10px;gap:10px;flex-wrap:wrap;padding:20px;width:100%;flex-direction:row;position:relative;background-color:#fff;overflow:visible;overflow:initial}}.page__nav__list--is-hidden-on-mobile{transform:translateX(-100%)}@media(min-width:768px){.page__nav__list--is-hidden-on-mobile{display:flex;transform:none}}.page__nav__list__item{font-size:13px;letter-spacing:.325px;line-height:1.53;text-transform:uppercase;padding:0;border-bottom:1px solid #eee;font-weight:600}@media(min-width:768px){.page__nav__list__item{margin-right:20px;border-bottom:0}}.page__nav__list__anchor{color:inherit;text-decoration:none;padding:20px;display:block}@media(min-width:768px){.page__nav__list__anchor{padding:0}}.page__main{grid-area:content;line-height:1.4;color:#444;padding:20px}.page__main__title{color:#444;font-size:32px;font-weight:700;letter-spacing:-.6px;line-height:1.25;margin:5px 0 16px;padding-bottom:13px;position:relative}.page__main__title:before{background-color:#ff5656;bottom:0;content:"";height:2px;margin:0 auto;position:absolute;left:0;width:30px}.page__sidebar{grid-area:sidebar;padding-right:20px;padding-left:20px}@media(min-width:768px){.page__sidebar{padding-left:10px;position:sticky;top:90px;height:-webkit-min-content;height:-moz-min-content;height:min-content}}.page__sidebar__widget{margin-top:20px}.page__footer{grid-area:footer}.page__footer__copyrights{position:relative;padding:20px;font-size:14px;text-align:center;color:#b7b7b7}.page__footer__copyrights:before{background-color:#ebebeb;content:"";height:2px;position:absolute;margin:0 auto;left:0;right:0;top:0;width:30px}</style>
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KG4VTKG" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript> <div><div class="page__mobile-backdrop"></div> <div class="page"><section class="page__header"><header class="page__header__content"><a href="/" class="page__header__logo"><svg xmlns="http://www.w3.org/2000/svg" width="210" height="30"><g fill="none" fill-rule="evenodd"><path d="M14.652 0c1.104 0 1.55.785 1.001 1.742l-2.878 5.024c-.551.963-1.44.973-2 0L7.89 1.742C7.336.78 7.79 0 8.887 0h5.765zM15.056 9.844c-1.102 0-1.546-.785-.998-1.742l2.878-5.024c.551-.963 1.448-.957 1.996 0l2.878 5.024c.551.962.099 1.742-.998 1.742h-5.756z" fill="#444"></path><path d="M8.386 11.184c1.103 0 1.55.782 1 1.744l-3.583 6.267c-.55.963-1.445.962-1.99.011l-3.606-6.29c-.548-.956-.098-1.732 1.004-1.732h7.175z" fill="#FF5656"></path><path d="M20.812 11.184c1.102 0 1.546.785.998 1.742l-2.878 5.024c-.55.963-1.448.957-1.996 0l-2.878-5.024c-.55-.962-.098-1.742.998-1.742h5.756zM8.887 21.028c-1.104 0-1.557-.77-.998-1.742l2.887-5.024c.553-.963 1.45-.958 2 0l2.877 5.024c.551.962.097 1.742-1.001 1.742H8.887zM14.652 22.368c1.104 0 1.557.77.998 1.742l-2.887 5.024c-.553.962-1.451.957-2 0L7.887 24.11c-.551-.962-.097-1.742 1.001-1.742h5.765z" fill="#444"></path><path d="M41.248 9.53h1.467l-7.258 19.541h-1.192L27.023 9.53h1.452l4.889 13.31c.749 2 1.238 3.508 1.497 4.523.184-.661.52-1.708 1.055-3.108L41.248 9.53zM43.876 10.515c0-.862.275-1.277.84-1.277a.72.72 0 0 1 .642.338c.153.216.23.539.23.954 0 .4-.077.723-.23.954a.734.734 0 0 1-.642.354c-.565-.03-.84-.462-.84-1.323zm1.497 18.572H44.06v-14.54h1.314v14.54zM52.28 29.087l-5.578-14.54h1.36l3.728 9.877c.49 1.262.871 2.37 1.116 3.324h.076a52.981 52.981 0 0 1 1.116-3.339l3.728-9.847h1.36l-5.577 14.54h-1.33v-.015zM69.27 29.087l-.337-2.293h-.106c-.734.939-1.467 1.6-2.231 1.985-.764.385-1.666.585-2.72.585-1.42 0-2.52-.37-3.3-1.093-.795-.723-1.177-1.739-1.177-3.031 0-1.416.581-2.523 1.757-3.308 1.177-.785 2.873-1.2 5.088-1.247l2.75-.076v-.97c0-1.385-.274-2.43-.84-3.123-.565-.708-1.451-1.062-2.689-1.062-1.33 0-2.72.37-4.156 1.123l-.489-1.154c1.59-.754 3.148-1.123 4.706-1.123 1.59 0 2.766.415 3.545 1.246.78.831 1.176 2.124 1.176 3.878v9.663h-.977zm-5.302-.939c1.543 0 2.75-.446 3.651-1.323.887-.893 1.33-2.124 1.33-3.693v-1.431l-2.521.108c-2.032.092-3.469.415-4.34.954-.855.538-1.298 1.385-1.298 2.523 0 .908.275 1.616.825 2.124.55.477 1.33.738 2.353.738z" fill="#FF5656"></path><path d="M88.888 19.116c0 3.277-.856 5.755-2.567 7.447-1.711 1.677-4.217 2.524-7.533 2.524h-4.644V9.545h5.24c3.102 0 5.455.816 7.074 2.447 1.635 1.616 2.43 4 2.43 7.124zm-1.467.062c0-2.8-.703-4.909-2.124-6.324-1.405-1.416-3.483-2.124-6.218-2.124h-3.576v17.141h3.209c5.806 0 8.71-2.893 8.71-8.693zM97.765 29.348c-2.093 0-3.728-.646-4.905-1.954-1.176-1.308-1.757-3.123-1.757-5.462 0-2.324.566-4.17 1.696-5.57 1.13-1.4 2.659-2.093 4.584-2.093 1.696 0 3.04.6 4.018 1.785.978 1.2 1.467 2.816 1.467 4.862v1.077h-10.39c.016 2 .474 3.524 1.39 4.57.902 1.047 2.201 1.585 3.897 1.585.825 0 1.543-.061 2.17-.17.626-.122 1.42-.368 2.368-.753v1.2c-.81.354-1.574.6-2.261.723-.688.139-1.452.2-2.277.2zm-.382-13.91c-1.39 0-2.506.462-3.346 1.385-.84.924-1.33 2.247-1.467 3.986h8.923c0-1.678-.367-3-1.085-3.955-.733-.938-1.742-1.415-3.025-1.415zM111.531 29.348c-2.062 0-3.682-.661-4.843-1.97-1.161-1.307-1.757-3.138-1.757-5.477 0-2.4.611-4.277 1.818-5.616 1.207-1.339 2.872-2.016 4.981-2.016 1.253 0 2.445.216 3.59.662l-.35 1.17c-1.254-.416-2.339-.632-3.255-.632-1.773 0-3.117.554-4.019 1.647-.916 1.108-1.36 2.692-1.36 4.754 0 1.954.459 3.493 1.36 4.6.917 1.109 2.185 1.663 3.82 1.663 1.314 0 2.521-.231 3.652-.708v1.23c-.932.462-2.14.693-3.637.693zM129.545 21.793c0 2.37-.565 4.216-1.711 5.555-1.146 1.339-2.72 2-4.721 2-1.268 0-2.384-.307-3.346-.923-.963-.615-1.712-1.492-2.216-2.646-.52-1.154-.764-2.478-.764-3.986 0-2.37.566-4.216 1.712-5.539 1.145-1.323 2.704-1.985 4.706-1.985 1.986 0 3.544.677 4.66 2.016 1.115 1.339 1.68 3.17 1.68 5.508zm-11.398 0c0 2 .443 3.555 1.314 4.678.871 1.123 2.109 1.677 3.698 1.677s2.826-.554 3.697-1.677 1.314-2.677 1.314-4.678c0-2-.443-3.554-1.314-4.662-.886-1.108-2.124-1.662-3.713-1.662s-2.826.554-3.682 1.647c-.886 1.108-1.314 2.662-1.314 4.677zM138.132 14.27c.611 0 1.268.06 1.971.184l-.244 1.277a7.489 7.489 0 0 0-1.88-.23c-1.237 0-2.246.522-3.025 1.584-.794 1.046-1.176 2.385-1.176 3.985v8.017h-1.314v-14.54h1.115l.137 2.615h.092c.596-1.077 1.222-1.816 1.895-2.247.657-.43 1.467-.646 2.43-.646zM150.707 29.087l-.336-2.293h-.107c-.734.939-1.467 1.6-2.231 1.985-.764.385-1.666.585-2.72.585-1.42 0-2.52-.37-3.3-1.093-.795-.723-1.177-1.739-1.177-3.031 0-1.416.581-2.523 1.758-3.308 1.176-.785 2.872-1.2 5.087-1.247l2.75-.076v-.97c0-1.385-.274-2.43-.84-3.123-.55-.708-1.451-1.062-2.689-1.062-1.329 0-2.72.37-4.156 1.123l-.489-1.154c1.59-.754 3.148-1.123 4.706-1.123 1.59 0 2.766.415 3.545 1.246.78.831 1.177 2.124 1.177 3.878v9.663h-.978zm-5.317-.939c1.543 0 2.75-.446 3.651-1.323.886-.893 1.33-2.124 1.33-3.693v-1.431l-2.521.108c-2.033.092-3.469.415-4.34.954-.855.538-1.298 1.385-1.298 2.523 0 .908.275 1.616.825 2.124.565.477 1.344.738 2.353.738z" fill="#444"></path></g></svg></a> <span class="page__header__toggle-menu"><svg width="512" height="512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" class="viva-icon" style="font-size:20px;fill:currentColor"><path d="M49 121c0-7.7 6.3-14 14-14h386.8c7.7 0 14 6.3 14 14s-6.3 14-14 14H63c-7.7 0-14-6.3-14-14zm0 135c0-7.7 6.3-14 14-14h386.8c7.7 0 14 6.3 14 14s-6.3 14-14 14H63c-7.7 0-14-6.3-14-14zm0 135c0-7.7 6.3-14 14-14h386.8c7.7 0 14 6.3 14 14s-6.3 14-14 14H63c-7.7 0-14-6.3-14-14z"></path></svg></span></header></section> <nav class="page__nav"><ul class="page__nav__list--is-hidden-on-mobile"><li class="page__nav__list__item"><a href="/" class="page__nav__list__anchor">Artigos</a></li><li class="page__nav__list__item"><a href="/dicas" class="page__nav__list__anchor">Dicas</a></li></ul></nav>  <main class="page__main"><article class="article"><h1 class="article__title">
        Como criar testes unitários em JavaScript sem precisar instalar nada
      </h1> <div class="article__content nuxt-content"><p>Nesse texto vamos entender brevemente o que são os testes unitários, conhecer uma forma de escreve-los em JavaScript e talvez o mais importante: criar o nosso primeiro.</p>

<p>Se você é desenvolvedora ou desenvolvedor provavelmente já se deparou ou vai se deparar com o conceito de testes unitários mais cedo ou mais tarde em sua carreira.</p>
<p>Testes unitários são trechos de código escrito para testar outros trechos de código. Apesar disso o código do teste unitário em si jamais afeta diretamente o produto final. Então teste unitário é algo pouco útil? Muito pelo contrário.</p>
<h2 id="teste-unitário-o-que-é"><a href="#teste-unit%C3%A1rio-o-que-%C3%A9" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Teste unitário: o que é</h2>
<p><a href="https://pt.wikipedia.org/wiki/Teste_de_unidade" rel="nofollow noopener noreferrer" target="_blank">Segundo a Wikipédia</a>, os testes unitários ou testes de unidade são:</p>
<blockquote>
<p>Teste de unidade é toda a aplicação de teste nas assinaturas de entrada e saída de um sistema. Consiste em validar dados válidos e inválidos via I/O (entrada/saída) sendo aplicado por desenvolvedores ou analistas de teste.</p>
</blockquote>
<p>Quer dizer: você escreve, por exemplo, uma função como parte do código do seu site ou produto e para testar essa função você descreve cenários onde essa função deve retornar determinada saída caso receba determinada entrada</p>
<p>Aqui no nosso exemplo iremos utilizar uma plataforma online de código para escrever e mostrar nossos testes unitários. A plataforma escolhida é o codepen.</p>
<h2 id="como-usar-o-codepen"><a href="#como-usar-o-codepen" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Como usar o codepen</h2>
<p>Talvez você já conheça alguns sites que te permitem hospedar código fonte. Essa página mesmo tem todo o seu código hospedado no <a href="https://github.com/vivadecora/vivadecora.github.io" rel="nofollow noopener noreferrer" target="_blank">GitHub Pages</a> mas o GitHub não é a única plataforma que oferece esse tipo de serviço.</p>
<p>O <a href="https://codepen.io/vivadecora" rel="nofollow noopener noreferrer" target="_blank">Codepen</a> é uma plataforma bastante útil de compartilhamento de código frontend. Nela você pode escrever códigos HTML, CSS e JavaScript e ver o resultado na hora automaticamente.</p>
<p>Para nosso artigo iremos usar o Codepen para:</p>
<ul>
<li>Hospedar JavaScript</li>
<li>Hospedar testes unitários</li>
<li>Exibir uma página de relatório de testes unitários</li>
</ul>
<p>Ao final de tudo teremos um resultado como esse:</p>
<p><img alt="Exemplo de tela do codepen" src="/codepen-testes-javascript-numero-primo.png"></p>
<p>Os passos para usar o codepen são:</p>
<ul>
<li>Criar uma conta em <a href="https://codepen.io/" rel="nofollow noopener noreferrer" target="_blank">https://codepen.io/</a></li>
<li>Acessar esse <a href="https://codepen.io/vivadecora/pen/ZEJWvya" rel="nofollow noopener noreferrer" target="_blank">pen com template pronto para testes unitários</a> e clicar em 'Fork'. Isso vai criar uma cópia do pen para sua conta pessoal.</li>
</ul>
<h2 id="criando-um-teste-unitário-em-javascript"><a href="#criando-um-teste-unit%C3%A1rio-em-javascript" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Criando um teste unitário em JavaScript</h2>
<p>Os exemplos a seguir mostram na prática como a criação de testes unitários poderia ajudar a criar uma simples função que diz se um número é primo ou não.</p>
<p>Para isso temos a seguintes informações:</p>
<ul>
<li>O número é primo se ele é divisível somente por si mesmo e por 1</li>
<li>Por divisível entende-se que quando se divide número X por Y o resto da divisão é 0</li>
</ul>
<p>Transformando isso em casos de testes poderíamos ter nosso primeiro código da seguinte maneira:</p>
<div class="nuxt-content-highlight"><pre class="language-text line-numbers"><code>function isPrimeNumber(number) {
    return number % number === 0;
}
</code></pre></div>
<p>Como todo número é divisível por 1 não precisamos testar esse caso. Então no código acima apenas checamos se o resto da divisão do número por ele mesmo é igual a zero. A seguir fazemos nosso primeiro teste unitário.
E aqui vai um spoiler, o código acima tem bugs!</p>
<div class="nuxt-content-highlight"><pre class="language-text line-numbers"><code>describe("Especificações do isPrimeNumber", specs);

const specs = function() {
    it("Função isPrimeNumber existe e não está undefined", function() {
        expect(isPrimeNumber).not.toBeUndefined();
    });

    it("Testa números com valor baixo",  function(){
        expect(isPrimeNumber(1)).toBe(true);
        expect(isPrimeNumber(2)).toBe(true);
        expect(isPrimeNumber(3)).toBe(true);
    })
}
</code></pre></div>
<p>Onde no código acima:</p>
<ul>
<li>describe, it, expect, toBe, not, toBeUndefined são <a href="https://jasmine.github.io/2.0/introduction" rel="nofollow noopener noreferrer" target="_blank">funções do Jasmine</a>, ou seja, só funcionam se o Jasmine estiver rodando</li>
<li><code>describe</code> é uma função que recebe dois parâmetros. O primeiro é um texto qualquer que dá nome ao nosso grupo de testes relacionados ao isPrimeNumber</li>
<li>O segundo parâmetro de <code>describe</code> é uma função que de fato contém nossos testes unitários</li>
<li>O <code>it</code> é um cenário de teste dentro do nosso grupo de testes do <code>describe</code></li>
<li>O <code>it</code> recebe dois parâmetros, assim como no <code>describe</code>.</li>
<li>Assim como no <code>describe</code> o primeiro parâmetro é um texto descritivo e o segundo é a função que será de fato executada</li>
<li>Dentro da função de cada <code>it</code> podemos executar funções expect</li>
<li>A função expect recebe uma expressão e retorna um objeto que pode receber funções de teste</li>
<li>As funções de teste são as mais variadas disponibilizadas pelo Jasmine</li>
<li>Exemplo: <code>expect(true).toBe(true)</code> espera que a expressão <code>true</code> retorne <code>true</code></li>
<li>Um teste passou quando todos os <code>expect</code> de um determinado <code>it</code> passaram</li>
<li>Um teste falhou quando um ou mais <code>expect</code> de um determinado <code>it</code> falharam</li>
</ul>
<p>Dentro do nosso exemplo, como podemos ver pelo relatório de cobertura, não temos bugs. Além disso sabemos também que todo o código está coberto, ou seja, todas as linhas que escrevemos foram executadas ao menos 1 vez durante o teste.</p>
<p>O que fizemos até agora pode ser visto aqui:</p>
<p class="codepen" data-height="300" data-default-tab="html,result" data-slug-hash="MWoLZxd" data-user="vivadecora" style="height:300px;box-sizing:border-box;display:flex;align-items:center;justify-content:center;border:2px solid;margin:1em 0;padding:1em">
  <span>See the Pen <a href="https://codepen.io/vivadecora/pen/MWoLZxd">
  Testes unitários com JavaScript - Parte 1</a> by Engenharia Viva Decora (<a href="https://codepen.io/vivadecora">@vivadecora</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>
<h2 id="melhorando-o-código-e-o-teste-unitário"><a href="#melhorando-o-c%C3%B3digo-e-o-teste-unit%C3%A1rio" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Melhorando o código e o teste unitário</h2>
<p>Mesmo com todo o código testado nosso código tem um bug bem claro e precisa ser alterado.
Esse bug é bem simples. Lembrando:</p>
<div class="nuxt-content-highlight"><pre class="language-text line-numbers"><code>function isPrimeNumber(number) {
    return number % number === 0;
}
</code></pre></div>
<p>Nessa função o que afirmamos é:</p>
<ul>
<li>Um número é primo se o resto da divisão por ele mesmo é igual a zero</li>
</ul>
<p>Porém, <strong>o resto da divisão de qualquer número por ele mesmo é sempre zero</strong>!
E quando comparamos isso com a definição de número primo a diferença fica clara:</p>
<ul>
<li>Nosso código: <em>'Um número é primo se o resto da divisão por ele mesmo é igual a zero'</em></li>
<li>Definição de número primo: <em>'O número é primo se ele é divisível somente por si mesmo e por 1'</em></li>
</ul>
<p>Quando nosso teste unitário roda checando se os números 1, 2 e 3 são primos ele tem o retorno esperado.</p>















































<table><thead><tr><th>Número</th><th>Teste</th><th>Resultado</th><th>Resultado esperado</th></tr></thead><tbody><tr><td>1</td><td>o resto da divisão por ele mesmo é igual a zero?</td><td><code>true</code></td><td><code>true</code></td></tr><tr><td>1</td><td>é divisível somente por si mesmo e por 1?</td><td><code>true</code></td><td><code>true</code></td></tr><tr><td>2</td><td>o resto da divisão por ele mesmo é igual a zero?</td><td><code>true</code></td><td><code>true</code></td></tr><tr><td>2</td><td>é divisível somente por si mesmo e por 1?</td><td><code>true</code></td><td><code>true</code></td></tr><tr><td>3</td><td>o resto da divisão por ele mesmo é igual a zero?</td><td><code>true</code></td><td><code>true</code></td></tr><tr><td>3</td><td>é divisível somente por si mesmo e por 1?</td><td><code>true</code></td><td><code>true</code></td></tr></tbody></table>
<p>Vamos alterar nosso código para testar também os números 4,5 e 6.
E quando começamos a expandir nossos testes logo vemos o problema!</p>
<p class="codepen" data-height="300" data-default-tab="html,result" data-slug-hash="wvqMzQr" data-user="vivadecora" style="height:300px;box-sizing:border-box;display:flex;align-items:center;justify-content:center;border:2px solid;margin:1em 0;padding:1em">
  <span>See the Pen <a href="https://codepen.io/vivadecora/pen/wvqMzQr">
  Testes unitários com JavaScript - Parte 2</a> by Engenharia Viva Decora (<a href="https://codepen.io/vivadecora">@vivadecora</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>
<p>Os testes continuam passando quando não deveriam passar. Vejamos:</p>















































<table><thead><tr><th>Número</th><th>Teste</th><th>Resultado</th><th>Resultado esperado</th></tr></thead><tbody><tr><td>4</td><td>o resto da divisão por ele mesmo é igual a zero?</td><td><code>true</code></td><td><code>true</code></td></tr><tr><td>4</td><td>é divisível somente por si mesmo e por 1?</td><td>⚠️  <code>false</code></td><td><code>true</code></td></tr><tr><td>5</td><td>o resto da divisão por ele mesmo é igual a zero?</td><td><code>true</code></td><td><code>true</code></td></tr><tr><td>5</td><td>é divisível somente por si mesmo e por 1?</td><td><code>true</code></td><td><code>true</code></td></tr><tr><td>6</td><td>o resto da divisão por ele mesmo é igual a zero?</td><td><code>true</code></td><td><code>true</code></td></tr><tr><td>6</td><td>é divisível somente por si mesmo e por 1?</td><td>⚠️ <code>false</code></td><td><code>true</code></td></tr></tbody></table>
<p>Perceba: os números 4 e 6 embora atendam nosso código atual não são números primos. Ambos são divisíveis por 2 e o 6 ainda é divisível também por 3!</p>
<div class="nuxt-content-highlight"><pre class="language-text line-numbers"><code>describe("Especificações do isPrimeNumber", specs);

const specs = function() {
    it("Função isPrimeNumber existe e não está undefined", function() {
        expect(isPrimeNumber).not.toBeUndefined();
    });

    it("Testa números com valor baixo",  function(){
        expect(isPrimeNumber(1)).toBe(true);
        expect(isPrimeNumber(2)).toBe(true);
        expect(isPrimeNumber(3)).toBe(true);
    })

    it("Testa números 4, 5 e 6",  function(){
        expect(isPrimeNumber(4)).toBe(false);
        expect(isPrimeNumber(5)).toBe(true);
        expect(isPrimeNumber(6)).toBe(false);
    })
}
</code></pre></div>
<p>Agora nós iremos alterar nossa função <code>isPrimeNumber</code> unitário para que o teste quebre.
Agora ela ficará assim:</p>
<div class="nuxt-content-highlight"><pre class="language-text line-numbers"><code>function isPrimeNumber(number) {
   for(let i = 2; i &lt; number; i++) {
      if(number % i === 0) {
         return false
      }
   }
   return true;
}
</code></pre></div>
<p>Esse código em questão adapter a partir desse <a href="https://stackoverflow.com/a/40200710" rel="nofollow noopener noreferrer" target="_blank">tópico do StackOverflow sobre números primos</a></p>
<p>Explicando o código:</p>
<ul>
<li>Se retornarmos <code>true</code> o número é primo, se retornarmos <code>false</code> ele não é</li>
<li>É iniciado um laço for começando no número 2</li>
<li>Esse for vai do número 2 até o número a ser testado -1</li>
<li>Se a divisão do número a ser testado pelo valor atual do <code>i</code> for igual a zero retornamos <code>false</code> e saímos do laço</li>
<li>Se o for acabar sem jamais atender a condição acima retornamos <code>true</code></li>
</ul>
<p>Com essa nova implementação nosso teste unitário deixa de quebrar mesmo nos números 4 e 6 🎉</p>
<p class="codepen" data-height="300" data-default-tab="html,result" data-slug-hash="ZEJQBQZ" data-user="vivadecora" style="height:300px;box-sizing:border-box;display:flex;align-items:center;justify-content:center;border:2px solid;margin:1em 0;padding:1em">
  <span>See the Pen <a href="https://codepen.io/vivadecora/pen/ZEJQBQZ">
  Testes unitários com JavaScript - Parte 3</a> by Engenharia Viva Decora (<a href="https://codepen.io/vivadecora">@vivadecora</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>
<h2 id="o-que-aprendemos-sobre-teste-unitário"><a href="#o-que-aprendemos-sobre-teste-unit%C3%A1rio" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>O que aprendemos sobre teste unitário</h2>
<p>Apesar do código bastante simples passamos por fases típicas do desenvolvimento de qualquer produto.</p>
<ul>
<li>Escrevemos o código</li>
<li>Testamos</li>
<li>Quebramos o teste</li>
<li>Refatoramos o código para desquebrar o teste</li>
</ul>
<p>Também vimos que:</p>
<ul>
<li>É possível praticar testes unitários direto no codepen, sem depender de configurações no projeto</li>
<li>Nem sempre um teste que passa significa um código sem bugs</li>
<li>Mesmo um código 100% coberto pode esconder bugs de implementação</li>
<li>Ter um teste unitário garante que novas implementações possam ser feitas com mais segurança</li>
</ul>
<h2 id="lição-de-casa-e-alteração-na-especificação-dos-números-primos"><a href="#li%C3%A7%C3%A3o-de-casa-e-altera%C3%A7%C3%A3o-na-especifica%C3%A7%C3%A3o-dos-n%C3%BAmeros-primos" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Lição de casa e alteração na especificação dos números primos</h2>
<p>Uma coisa que aprendi durante a leitura desse artigo foi que a definição abaixo está incompleta:</p>
<blockquote>
<p>O número é primo se ele é divisível somente por si mesmo e por 1</p>
</blockquote>
<p>Pois o número 1 não é considerado primo, sendo assim uma definição melhor seria:</p>
<blockquote>
<p>O número é primo se ele é divisível somente por 2 números diferentes: ele mesmo e 1</p>
</blockquote>
<p>Com isso finalizamos com algumas questões e melhorias para quem quiser se aprofundar:</p>
<ul>
<li>Como alterar nosso teste unitário e nosso código para atender a essa alteração na especificação? Fica como exercício</li>
<li>Todo número par maior que 2 não é primo, ainda assim nosso laço de repetição testa esses números. Dá para melhorar?</li>
<li>O maior número pelo qual um número é divisível para garantir que ele não é primo é a sua raiz quadrada. Podemos evitar testes números maiores que a raiz quadrada?</li>
<li>O código da nossa função poderia ser mais legível? Como fazer isso sem quebrar testes ?</li>
</ul>
<p>É isso!
O que achou dos testes unitários em JavaScript? Já tem prática com isso?
O que pretende testar agora?</p>
<p>Abraços</p>
<script async src="https://cpwebassets.codepen.io/assets/embed/ei.js"></script></div></article></main> <aside role="complementary" itemscope itemtype="http://schema.org/WPSideBar" class="page__sidebar"><section class="page__sidebar__widget"><div class="github-card"><img src="https://octodex.github.com/images/inspectocat.jpg" width="896" height="896" class="github-card__image"> <a href="https://github.com/vivadecora" class="github-card__href">Já nos acompanha no GitHub?</a></div></section> <!----> </aside> <footer class="page__footer"><p class="page__footer__copyrights">
    Copyrights © 2021 Viva Decora
  </p></footer></div></div></div></div></div><script>window.__NUXT__=function(e,t,p,a,r,o,s,i,l,n,d,u,y,c,v,m,g,h,f,b,x,q,N,P,A,C,T,z,S,E,j,B,H,O,J,U,w,k,I,M,Q,_,D,Z,L,R,F,W,V,G,X,Y,K,$,ee,te,pe,ae,re,oe,se,ie,le,ne,de,ue,ye,ce,ve){return{layout:"default",data:[{article:{slug:"teste-unitario-javascript",description:"Introdução aos testes unitários em JavaScript com exemplos práticos sem necessidade de configurações ou instalações",title:"Como criar testes unitários em JavaScript sem precisar instalar nada",authors:["teles"],coauthors:["guilherme","rafa"],published:!0,toc:[{id:W,depth:2,text:V},{id:G,depth:2,text:X},{id:Y,depth:2,text:K},{id:$,depth:2,text:ee},{id:te,depth:2,text:pe},{id:ae,depth:2,text:re}],body:{type:"root",children:[{type:t,tag:o,props:{},children:[{type:e,value:oe}]},{type:e,value:p},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Se você é desenvolvedora ou desenvolvedor provavelmente já se deparou ou vai se deparar com o conceito de testes unitários mais cedo ou mais tarde em sua carreira."}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Testes unitários são trechos de código escrito para testar outros trechos de código. Apesar disso o código do teste unitário em si jamais afeta diretamente o produto final. Então teste unitário é algo pouco útil? Muito pelo contrário."}]},{type:e,value:p},{type:t,tag:h,props:{id:W},children:[{type:t,tag:l,props:{href:"#teste-unit%C3%A1rio-o-que-%C3%A9",ariaHidden:i,tabIndex:f},children:[{type:t,tag:u,props:{className:[b,x]},children:[]}]},{type:e,value:V}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:t,tag:l,props:{href:"https://pt.wikipedia.org/wiki/Teste_de_unidade",rel:[c,v,m],target:g},children:[{type:e,value:"Segundo a Wikipédia"}]},{type:e,value:", os testes unitários ou testes de unidade são:"}]},{type:e,value:p},{type:t,tag:O,props:{},children:[{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Teste de unidade é toda a aplicação de teste nas assinaturas de entrada e saída de um sistema. Consiste em validar dados válidos e inválidos via I/O (entrada/saída) sendo aplicado por desenvolvedores ou analistas de teste."}]},{type:e,value:p}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Quer dizer: você escreve, por exemplo, uma função como parte do código do seu site ou produto e para testar essa função você descreve cenários onde essa função deve retornar determinada saída caso receba determinada entrada"}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Aqui no nosso exemplo iremos utilizar uma plataforma online de código para escrever e mostrar nossos testes unitários. A plataforma escolhida é o codepen."}]},{type:e,value:p},{type:t,tag:h,props:{id:G},children:[{type:t,tag:l,props:{href:"#como-usar-o-codepen",ariaHidden:i,tabIndex:f},children:[{type:t,tag:u,props:{className:[b,x]},children:[]}]},{type:e,value:X}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Talvez você já conheça alguns sites que te permitem hospedar código fonte. Essa página mesmo tem todo o seu código hospedado no "},{type:t,tag:l,props:{href:"https://github.com/vivadecora/vivadecora.github.io",rel:[c,v,m],target:g},children:[{type:e,value:"GitHub Pages"}]},{type:e,value:" mas o GitHub não é a única plataforma que oferece esse tipo de serviço."}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:J},{type:t,tag:l,props:{href:j,rel:[c,v,m],target:g},children:[{type:e,value:"Codepen"}]},{type:e,value:" é uma plataforma bastante útil de compartilhamento de código frontend. Nela você pode escrever códigos HTML, CSS e JavaScript e ver o resultado na hora automaticamente."}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Para nosso artigo iremos usar o Codepen para:"}]},{type:e,value:p},{type:t,tag:d,props:{},children:[{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"Hospedar JavaScript"}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"Hospedar testes unitários"}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"Exibir uma página de relatório de testes unitários"}]},{type:e,value:p}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Ao final de tudo teremos um resultado como esse:"}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:t,tag:"img",props:{alt:"Exemplo de tela do codepen",src:"/codepen-testes-javascript-numero-primo.png"},children:[]}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Os passos para usar o codepen são:"}]},{type:e,value:p},{type:t,tag:d,props:{},children:[{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"Criar uma conta em "},{type:t,tag:l,props:{href:se,rel:[c,v,m],target:g},children:[{type:e,value:se}]}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"Acessar esse "},{type:t,tag:l,props:{href:"https://codepen.io/vivadecora/pen/ZEJWvya",rel:[c,v,m],target:g},children:[{type:e,value:"pen com template pronto para testes unitários"}]},{type:e,value:" e clicar em 'Fork'. Isso vai criar uma cópia do pen para sua conta pessoal."}]},{type:e,value:p}]},{type:e,value:p},{type:t,tag:h,props:{id:Y},children:[{type:t,tag:l,props:{href:"#criando-um-teste-unit%C3%A1rio-em-javascript",ariaHidden:i,tabIndex:f},children:[{type:t,tag:u,props:{className:[b,x]},children:[]}]},{type:e,value:K}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Os exemplos a seguir mostram na prática como a criação de testes unitários poderia ajudar a criar uma simples função que diz se um número é primo ou não."}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Para isso temos a seguintes informações:"}]},{type:e,value:p},{type:t,tag:d,props:{},children:[{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:ie}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"Por divisível entende-se que quando se divide número X por Y o resto da divisão é 0"}]},{type:e,value:p}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Transformando isso em casos de testes poderíamos ter nosso primeiro código da seguinte maneira:"}]},{type:e,value:p},{type:t,tag:P,props:{className:[A]},children:[{type:t,tag:C,props:{className:[T,z]},children:[{type:t,tag:a,props:{},children:[{type:e,value:le}]}]}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Como todo número é divisível por 1 não precisamos testar esse caso. Então no código acima apenas checamos se o resto da divisão do número por ele mesmo é igual a zero. A seguir fazemos nosso primeiro teste unitário.\nE aqui vai um spoiler, o código acima tem bugs!"}]},{type:e,value:p},{type:t,tag:P,props:{className:[A]},children:[{type:t,tag:C,props:{className:[T,z]},children:[{type:t,tag:a,props:{},children:[{type:e,value:'describe("Especificações do isPrimeNumber", specs);\n\nconst specs = function() {\n    it("Função isPrimeNumber existe e não está undefined", function() {\n        expect(isPrimeNumber).not.toBeUndefined();\n    });\n\n    it("Testa números com valor baixo",  function(){\n        expect(isPrimeNumber(1)).toBe(true);\n        expect(isPrimeNumber(2)).toBe(true);\n        expect(isPrimeNumber(3)).toBe(true);\n    })\n}\n'}]}]}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Onde no código acima:"}]},{type:e,value:p},{type:t,tag:d,props:{},children:[{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"describe, it, expect, toBe, not, toBeUndefined são "},{type:t,tag:l,props:{href:"https://jasmine.github.io/2.0/introduction",rel:[c,v,m],target:g},children:[{type:e,value:"funções do Jasmine"}]},{type:e,value:", ou seja, só funcionam se o Jasmine estiver rodando"}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:t,tag:a,props:{},children:[{type:e,value:S}]},{type:e,value:" é uma função que recebe dois parâmetros. O primeiro é um texto qualquer que dá nome ao nosso grupo de testes relacionados ao isPrimeNumber"}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"O segundo parâmetro de "},{type:t,tag:a,props:{},children:[{type:e,value:S}]},{type:e,value:" é uma função que de fato contém nossos testes unitários"}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:J},{type:t,tag:a,props:{},children:[{type:e,value:E}]},{type:e,value:" é um cenário de teste dentro do nosso grupo de testes do "},{type:t,tag:a,props:{},children:[{type:e,value:S}]}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:J},{type:t,tag:a,props:{},children:[{type:e,value:E}]},{type:e,value:" recebe dois parâmetros, assim como no "},{type:t,tag:a,props:{},children:[{type:e,value:S}]},{type:e,value:B}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"Assim como no "},{type:t,tag:a,props:{},children:[{type:e,value:S}]},{type:e,value:" o primeiro parâmetro é um texto descritivo e o segundo é a função que será de fato executada"}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"Dentro da função de cada "},{type:t,tag:a,props:{},children:[{type:e,value:E}]},{type:e,value:" podemos executar funções expect"}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"A função expect recebe uma expressão e retorna um objeto que pode receber funções de teste"}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"As funções de teste são as mais variadas disponibilizadas pelo Jasmine"}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"Exemplo: "},{type:t,tag:a,props:{},children:[{type:e,value:"expect(true).toBe(true)"}]},{type:e,value:" espera que a expressão "},{type:t,tag:a,props:{},children:[{type:e,value:i}]},{type:e,value:" retorne "},{type:t,tag:a,props:{},children:[{type:e,value:i}]}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"Um teste passou quando todos os "},{type:t,tag:a,props:{},children:[{type:e,value:"expect"}]},{type:e,value:ne},{type:t,tag:a,props:{},children:[{type:e,value:E}]},{type:e,value:" passaram"}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"Um teste falhou quando um ou mais "},{type:t,tag:a,props:{},children:[{type:e,value:"expect"}]},{type:e,value:ne},{type:t,tag:a,props:{},children:[{type:e,value:E}]},{type:e,value:" falharam"}]},{type:e,value:p}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Dentro do nosso exemplo, como podemos ver pelo relatório de cobertura, não temos bugs. Além disso sabemos também que todo o código está coberto, ou seja, todas as linhas que escrevemos foram executadas ao menos 1 vez durante o teste."}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"O que fizemos até agora pode ser visto aqui:"}]},{type:e,value:p},{type:t,tag:o,props:{className:[U],dataHeight:w,dataDefaultTab:k,dataSlugHash:"MWoLZxd",dataUser:I,style:M},children:[{type:e,value:Q},{type:t,tag:u,props:{},children:[{type:e,value:_},{type:t,tag:l,props:{href:"https://codepen.io/vivadecora/pen/MWoLZxd"},children:[{type:e,value:"\n  Testes unitários com JavaScript - Parte 1"}]},{type:e,value:D},{type:t,tag:l,props:{href:j},children:[{type:e,value:Z}]},{type:e,value:L},{type:t,tag:l,props:{href:R},children:[{type:e,value:F}]},{type:e,value:B}]},{type:e,value:p}]},{type:e,value:p},{type:t,tag:h,props:{id:$},children:[{type:t,tag:l,props:{href:"#melhorando-o-c%C3%B3digo-e-o-teste-unit%C3%A1rio",ariaHidden:i,tabIndex:f},children:[{type:t,tag:u,props:{className:[b,x]},children:[]}]},{type:e,value:ee}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Mesmo com todo o código testado nosso código tem um bug bem claro e precisa ser alterado.\nEsse bug é bem simples. Lembrando:"}]},{type:e,value:p},{type:t,tag:P,props:{className:[A]},children:[{type:t,tag:C,props:{className:[T,z]},children:[{type:t,tag:a,props:{},children:[{type:e,value:le}]}]}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Nessa função o que afirmamos é:"}]},{type:e,value:p},{type:t,tag:d,props:{},children:[{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"Um número é primo se o resto da divisão por ele mesmo é igual a zero"}]},{type:e,value:p}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Porém, "},{type:t,tag:"strong",props:{},children:[{type:e,value:"o resto da divisão de qualquer número por ele mesmo é sempre zero"}]},{type:e,value:"!\nE quando comparamos isso com a definição de número primo a diferença fica clara:"}]},{type:e,value:p},{type:t,tag:d,props:{},children:[{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"Nosso código: "},{type:t,tag:"em",props:{},children:[{type:e,value:"'Um número é primo se o resto da divisão por ele mesmo é igual a zero'"}]}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"Definição de número primo: "},{type:t,tag:"em",props:{},children:[{type:e,value:"'O número é primo se ele é divisível somente por si mesmo e por 1'"}]}]},{type:e,value:p}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Quando nosso teste unitário roda checando se os números 1, 2 e 3 são primos ele tem o retorno esperado."}]},{type:e,value:de},{type:t,tag:"table",props:{},children:[{type:t,tag:"thead",props:{},children:[{type:t,tag:n,props:{},children:[{type:t,tag:y,props:{},children:[{type:e,value:"Número"}]},{type:t,tag:y,props:{},children:[{type:e,value:"Teste"}]},{type:t,tag:y,props:{},children:[{type:e,value:ue}]},{type:t,tag:y,props:{},children:[{type:e,value:ye}]}]}]},{type:t,tag:"tbody",props:{},children:[{type:t,tag:n,props:{},children:[{type:t,tag:r,props:{},children:[{type:e,value:"1"}]},{type:t,tag:r,props:{},children:[{type:e,value:q}]},{type:t,tag:r,props:{},children:[{type:t,tag:a,props:{},children:[{type:e,value:i}]}]},{type:t,tag:r,props:{},children:[{type:t,tag:a,props:{},children:[{type:e,value:i}]}]}]},{type:t,tag:n,props:{},children:[{type:t,tag:r,props:{},children:[{type:e,value:"1"}]},{type:t,tag:r,props:{},children:[{type:e,value:N}]},{type:t,tag:r,props:{},children:[{type:t,tag:a,props:{},children:[{type:e,value:i}]}]},{type:t,tag:r,props:{},children:[{type:t,tag:a,props:{},children:[{type:e,value:i}]}]}]},{type:t,tag:n,props:{},children:[{type:t,tag:r,props:{},children:[{type:e,value:"2"}]},{type:t,tag:r,props:{},children:[{type:e,value:q}]},{type:t,tag:r,props:{},children:[{type:t,tag:a,props:{},children:[{type:e,value:i}]}]},{type:t,tag:r,props:{},children:[{type:t,tag:a,props:{},children:[{type:e,value:i}]}]}]},{type:t,tag:n,props:{},children:[{type:t,tag:r,props:{},children:[{type:e,value:"2"}]},{type:t,tag:r,props:{},children:[{type:e,value:N}]},{type:t,tag:r,props:{},children:[{type:t,tag:a,props:{},children:[{type:e,value:i}]}]},{type:t,tag:r,props:{},children:[{type:t,tag:a,props:{},children:[{type:e,value:i}]}]}]},{type:t,tag:n,props:{},children:[{type:t,tag:r,props:{},children:[{type:e,value:"3"}]},{type:t,tag:r,props:{},children:[{type:e,value:q}]},{type:t,tag:r,props:{},children:[{type:t,tag:a,props:{},children:[{type:e,value:i}]}]},{type:t,tag:r,props:{},children:[{type:t,tag:a,props:{},children:[{type:e,value:i}]}]}]},{type:t,tag:n,props:{},children:[{type:t,tag:r,props:{},children:[{type:e,value:"3"}]},{type:t,tag:r,props:{},children:[{type:e,value:N}]},{type:t,tag:r,props:{},children:[{type:t,tag:a,props:{},children:[{type:e,value:i}]}]},{type:t,tag:r,props:{},children:[{type:t,tag:a,props:{},children:[{type:e,value:i}]}]}]}]}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Vamos alterar nosso código para testar também os números 4,5 e 6.\nE quando começamos a expandir nossos testes logo vemos o problema!"}]},{type:e,value:p},{type:t,tag:o,props:{className:[U],dataHeight:w,dataDefaultTab:k,dataSlugHash:"wvqMzQr",dataUser:I,style:M},children:[{type:e,value:Q},{type:t,tag:u,props:{},children:[{type:e,value:_},{type:t,tag:l,props:{href:"https://codepen.io/vivadecora/pen/wvqMzQr"},children:[{type:e,value:"\n  Testes unitários com JavaScript - Parte 2"}]},{type:e,value:D},{type:t,tag:l,props:{href:j},children:[{type:e,value:Z}]},{type:e,value:L},{type:t,tag:l,props:{href:R},children:[{type:e,value:F}]},{type:e,value:B}]},{type:e,value:p}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Os testes continuam passando quando não deveriam passar. Vejamos:"}]},{type:e,value:de},{type:t,tag:"table",props:{},children:[{type:t,tag:"thead",props:{},children:[{type:t,tag:n,props:{},children:[{type:t,tag:y,props:{},children:[{type:e,value:"Número"}]},{type:t,tag:y,props:{},children:[{type:e,value:"Teste"}]},{type:t,tag:y,props:{},children:[{type:e,value:ue}]},{type:t,tag:y,props:{},children:[{type:e,value:ye}]}]}]},{type:t,tag:"tbody",props:{},children:[{type:t,tag:n,props:{},children:[{type:t,tag:r,props:{},children:[{type:e,value:"4"}]},{type:t,tag:r,props:{},children:[{type:e,value:q}]},{type:t,tag:r,props:{},children:[{type:t,tag:a,props:{},children:[{type:e,value:i}]}]},{type:t,tag:r,props:{},children:[{type:t,tag:a,props:{},children:[{type:e,value:i}]}]}]},{type:t,tag:n,props:{},children:[{type:t,tag:r,props:{},children:[{type:e,value:"4"}]},{type:t,tag:r,props:{},children:[{type:e,value:N}]},{type:t,tag:r,props:{},children:[{type:e,value:"⚠️  "},{type:t,tag:a,props:{},children:[{type:e,value:H}]}]},{type:t,tag:r,props:{},children:[{type:t,tag:a,props:{},children:[{type:e,value:i}]}]}]},{type:t,tag:n,props:{},children:[{type:t,tag:r,props:{},children:[{type:e,value:"5"}]},{type:t,tag:r,props:{},children:[{type:e,value:q}]},{type:t,tag:r,props:{},children:[{type:t,tag:a,props:{},children:[{type:e,value:i}]}]},{type:t,tag:r,props:{},children:[{type:t,tag:a,props:{},children:[{type:e,value:i}]}]}]},{type:t,tag:n,props:{},children:[{type:t,tag:r,props:{},children:[{type:e,value:"5"}]},{type:t,tag:r,props:{},children:[{type:e,value:N}]},{type:t,tag:r,props:{},children:[{type:t,tag:a,props:{},children:[{type:e,value:i}]}]},{type:t,tag:r,props:{},children:[{type:t,tag:a,props:{},children:[{type:e,value:i}]}]}]},{type:t,tag:n,props:{},children:[{type:t,tag:r,props:{},children:[{type:e,value:"6"}]},{type:t,tag:r,props:{},children:[{type:e,value:q}]},{type:t,tag:r,props:{},children:[{type:t,tag:a,props:{},children:[{type:e,value:i}]}]},{type:t,tag:r,props:{},children:[{type:t,tag:a,props:{},children:[{type:e,value:i}]}]}]},{type:t,tag:n,props:{},children:[{type:t,tag:r,props:{},children:[{type:e,value:"6"}]},{type:t,tag:r,props:{},children:[{type:e,value:N}]},{type:t,tag:r,props:{},children:[{type:e,value:"⚠️ "},{type:t,tag:a,props:{},children:[{type:e,value:H}]}]},{type:t,tag:r,props:{},children:[{type:t,tag:a,props:{},children:[{type:e,value:i}]}]}]}]}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Perceba: os números 4 e 6 embora atendam nosso código atual não são números primos. Ambos são divisíveis por 2 e o 6 ainda é divisível também por 3!"}]},{type:e,value:p},{type:t,tag:P,props:{className:[A]},children:[{type:t,tag:C,props:{className:[T,z]},children:[{type:t,tag:a,props:{},children:[{type:e,value:'describe("Especificações do isPrimeNumber", specs);\n\nconst specs = function() {\n    it("Função isPrimeNumber existe e não está undefined", function() {\n        expect(isPrimeNumber).not.toBeUndefined();\n    });\n\n    it("Testa números com valor baixo",  function(){\n        expect(isPrimeNumber(1)).toBe(true);\n        expect(isPrimeNumber(2)).toBe(true);\n        expect(isPrimeNumber(3)).toBe(true);\n    })\n\n    it("Testa números 4, 5 e 6",  function(){\n        expect(isPrimeNumber(4)).toBe(false);\n        expect(isPrimeNumber(5)).toBe(true);\n        expect(isPrimeNumber(6)).toBe(false);\n    })\n}\n'}]}]}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Agora nós iremos alterar nossa função "},{type:t,tag:a,props:{},children:[{type:e,value:"isPrimeNumber"}]},{type:e,value:" unitário para que o teste quebre.\nAgora ela ficará assim:"}]},{type:e,value:p},{type:t,tag:P,props:{className:[A]},children:[{type:t,tag:C,props:{className:[T,z]},children:[{type:t,tag:a,props:{},children:[{type:e,value:"function isPrimeNumber(number) {\n   for(let i = 2; i < number; i++) {\n      if(number % i === 0) {\n         return false\n      }\n   }\n   return true;\n}\n"}]}]}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Esse código em questão adapter a partir desse "},{type:t,tag:l,props:{href:"https://stackoverflow.com/a/40200710",rel:[c,v,m],target:g},children:[{type:e,value:"tópico do StackOverflow sobre números primos"}]}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Explicando o código:"}]},{type:e,value:p},{type:t,tag:d,props:{},children:[{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"Se retornarmos "},{type:t,tag:a,props:{},children:[{type:e,value:i}]},{type:e,value:" o número é primo, se retornarmos "},{type:t,tag:a,props:{},children:[{type:e,value:H}]},{type:e,value:" ele não é"}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"É iniciado um laço for começando no número 2"}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"Esse for vai do número 2 até o número a ser testado -1"}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"Se a divisão do número a ser testado pelo valor atual do "},{type:t,tag:a,props:{},children:[{type:e,value:"i"}]},{type:e,value:" for igual a zero retornamos "},{type:t,tag:a,props:{},children:[{type:e,value:H}]},{type:e,value:" e saímos do laço"}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"Se o for acabar sem jamais atender a condição acima retornamos "},{type:t,tag:a,props:{},children:[{type:e,value:i}]}]},{type:e,value:p}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Com essa nova implementação nosso teste unitário deixa de quebrar mesmo nos números 4 e 6 🎉"}]},{type:e,value:p},{type:t,tag:o,props:{className:[U],dataHeight:w,dataDefaultTab:k,dataSlugHash:"ZEJQBQZ",dataUser:I,style:M},children:[{type:e,value:Q},{type:t,tag:u,props:{},children:[{type:e,value:_},{type:t,tag:l,props:{href:"https://codepen.io/vivadecora/pen/ZEJQBQZ"},children:[{type:e,value:"\n  Testes unitários com JavaScript - Parte 3"}]},{type:e,value:D},{type:t,tag:l,props:{href:j},children:[{type:e,value:Z}]},{type:e,value:L},{type:t,tag:l,props:{href:R},children:[{type:e,value:F}]},{type:e,value:B}]},{type:e,value:p}]},{type:e,value:p},{type:t,tag:h,props:{id:te},children:[{type:t,tag:l,props:{href:"#o-que-aprendemos-sobre-teste-unit%C3%A1rio",ariaHidden:i,tabIndex:f},children:[{type:t,tag:u,props:{className:[b,x]},children:[]}]},{type:e,value:pe}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Apesar do código bastante simples passamos por fases típicas do desenvolvimento de qualquer produto."}]},{type:e,value:p},{type:t,tag:d,props:{},children:[{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"Escrevemos o código"}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"Testamos"}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"Quebramos o teste"}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"Refatoramos o código para desquebrar o teste"}]},{type:e,value:p}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Também vimos que:"}]},{type:e,value:p},{type:t,tag:d,props:{},children:[{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"É possível praticar testes unitários direto no codepen, sem depender de configurações no projeto"}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"Nem sempre um teste que passa significa um código sem bugs"}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"Mesmo um código 100% coberto pode esconder bugs de implementação"}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"Ter um teste unitário garante que novas implementações possam ser feitas com mais segurança"}]},{type:e,value:p}]},{type:e,value:p},{type:t,tag:h,props:{id:ae},children:[{type:t,tag:l,props:{href:"#li%C3%A7%C3%A3o-de-casa-e-altera%C3%A7%C3%A3o-na-especifica%C3%A7%C3%A3o-dos-n%C3%BAmeros-primos",ariaHidden:i,tabIndex:f},children:[{type:t,tag:u,props:{className:[b,x]},children:[]}]},{type:e,value:re}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Uma coisa que aprendi durante a leitura desse artigo foi que a definição abaixo está incompleta:"}]},{type:e,value:p},{type:t,tag:O,props:{},children:[{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:ie}]},{type:e,value:p}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Pois o número 1 não é considerado primo, sendo assim uma definição melhor seria:"}]},{type:e,value:p},{type:t,tag:O,props:{},children:[{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"O número é primo se ele é divisível somente por 2 números diferentes: ele mesmo e 1"}]},{type:e,value:p}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Com isso finalizamos com algumas questões e melhorias para quem quiser se aprofundar:"}]},{type:e,value:p},{type:t,tag:d,props:{},children:[{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"Como alterar nosso teste unitário e nosso código para atender a essa alteração na especificação? Fica como exercício"}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"Todo número par maior que 2 não é primo, ainda assim nosso laço de repetição testa esses números. Dá para melhorar?"}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"O maior número pelo qual um número é divisível para garantir que ele não é primo é a sua raiz quadrada. Podemos evitar testes números maiores que a raiz quadrada?"}]},{type:e,value:p},{type:t,tag:s,props:{},children:[{type:e,value:"O código da nossa função poderia ser mais legível? Como fazer isso sem quebrar testes ?"}]},{type:e,value:p}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"É isso!\nO que achou dos testes unitários em JavaScript? Já tem prática com isso?\nO que pretende testar agora?"}]},{type:e,value:p},{type:t,tag:o,props:{},children:[{type:e,value:"Abraços"}]},{type:e,value:p},{type:t,tag:"script",props:{async:!0,src:"https://cpwebassets.codepen.io/assets/embed/ei.js"},children:[]}]},excerpt:{type:"root",children:[{type:t,tag:o,props:{},children:[{type:e,value:oe}]}]},dir:"/articles",path:"/articles/teste-unitario-javascript",extension:".md",createdAt:ce,updatedAt:ce}}],fetch:{},error:ve,serverRendered:!0,routePath:"/teste-unitario-javascript",config:{_app:{basePath:"/",assetsPath:"/_nuxt/",cdnURL:ve},content:{dbHash:"dfb8bc7f"}}}}("text","element","\n","code","td","p","li","true","a","tr","ul","span","th","nofollow","noopener","noreferrer","_blank","h2",-1,"icon","icon-link","o resto da divisão por ele mesmo é igual a zero?","é divisível somente por si mesmo e por 1?","div","nuxt-content-highlight","pre","language-text","line-numbers","describe","it","https://codepen.io/vivadecora",".","false","blockquote","O ","codepen","300","html,result","vivadecora","height: 300px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;","\n  ","See the Pen "," by Engenharia Viva Decora (","@vivadecora",")\n  on ","https://codepen.io","CodePen","teste-unitário-o-que-é","Teste unitário: o que é","como-usar-o-codepen","Como usar o codepen","criando-um-teste-unitário-em-javascript","Criando um teste unitário em JavaScript","melhorando-o-código-e-o-teste-unitário","Melhorando o código e o teste unitário","o-que-aprendemos-sobre-teste-unitário","O que aprendemos sobre teste unitário","lição-de-casa-e-alteração-na-especificação-dos-números-primos","Lição de casa e alteração na especificação dos números primos","Nesse texto vamos entender brevemente o que são os testes unitários, conhecer uma forma de escreve-los em JavaScript e talvez o mais importante: criar o nosso primeiro.","https://codepen.io/","O número é primo se ele é divisível somente por si mesmo e por 1","function isPrimeNumber(number) {\n    return number % number === 0;\n}\n"," de um determinado ","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","Resultado","Resultado esperado","2021-10-22T13:29:30.081Z",null)</script><script src="/_nuxt/ebd34f4.js" defer></script><script src="/_nuxt/8d3dc35.js" defer></script><script src="/_nuxt/6393243.js" defer></script><script src="/_nuxt/9a27922.js" defer></script><script src="/_nuxt/123647c.js" defer></script>
  </body>
</html>
